/*!	Curve extension for canvas 2.3.8 (c) Epistemex 2013-2018 www.epistemex.com License: MIT */
CanvasRenderingContext2D.prototype.curve=CanvasRenderingContext2D.prototype.curve||function(n,t,i,r){"use strict";function w(n,t,r,u){for(var s,f=2;f<r;f+=2){var y=n[f],p=n[f+1],w=n[f+2],b=n[f+3],k=(w-n[f-2])*u,d=(b-n[f-1])*u,g=(n[f+4]-y)*u,nt=(n[f+5]-p)*u,e=0,h,l,a,v;for(s=0;s<i;s++)h=t[e++],l=t[e++],a=t[e++],v=t[e++],o[c++]=h*y+l*w+a*k+v*g,o[c++]=h*p+l*b+a*d+v*nt}}if(typeof n=="undefined"||n.length<2)return new Float32Array(0);t=typeof t=="number"?t:.5;i=typeof i=="number"?i:25;var f,e=1,u=n.length,c=0,b=(u-2)*i+2+(r?2*i:0),o=new Float32Array(b),s=new Float32Array(i+2<<2),h=4;for(f=n.slice(0),r?(f.unshift(n[u-1]),f.unshift(n[u-2]),f.push(n[0],n[1])):(f.unshift(n[1]),f.unshift(n[0]),f.push(n[u-2],n[u-1])),s[0]=1;e<i;e++){var l=e/i,a=l*l,v=a*l,y=v*2,p=a*3;s[h++]=y-p+1;s[h++]=p-y;s[h++]=v-2*a+l;s[h++]=v-a}for(s[++h]=1,w(f,s,u,t),r&&(f=[],f.push(n[u-4],n[u-3],n[u-2],n[u-1],n[0],n[1],n[2],n[3]),w(f,s,4,t)),u=r?0:n.length-2,o[c++]=n[u++],o[c]=n[u],e=0,u=o.length;e<u;e+=2)this.lineTo(o[e],o[e+1]);return o};
/*!
     This XWord Inbfo JavaScript function from Crossword.ts is (c) 2010-2024, Jim Horne. All rights reserved.
*/
"use strict";const mNW=482;let xwiCW=(()=>{function t(n,t){return n===void 0?t:n}function at(n,t){ni=Math.min(...n.filter(n=>n!==null));ti=Math.min(...t.filter(n=>n!==null));ct=Math.max(...n);lt=Math.max(...t)}function ii(n,t){return n.map((n,i)=>({row:n,col:t[i]}))}function ai(n){const t=document.createElement("div");return t.style.display=n,t.style.display===n}function u(n=y){return document.getElementById(n)}function tt(){f&&f()}function di(n){s=n.date;ci=n.name;v=!!window.sessionStorage;d=`op${s}`;a=`an${s}`;let t=!1,i=!1;v&&(t=sessionStorage.getItem(d)===oi,i=sessionStorage.getItem(a)!==null);$("p","div.xnote").each(function(){let n="";const t=$(this);$("span.pullquote",t).each(function(){n+=$(this).text()});n!==""&&t.prepend(`<span class='pulledquote'>${n}</span>`)});it(!1);ai("grid")&&ai("flex")||$(".stripped").show();t?($(".stripped, .full").toggle(60),$(dt).show(),$(".stripped, .full, "+dt).promise().done(tt)):($(b).show(),tt());vi(".closebox, #shownotes",".xnote, .notehead, #shownotes");vi("a.showmore",".stripped, .full");$(".closebox, #shownotes, a.showmore").on({mouseenter:()=>{$(o).css(c,ei)},mouseleave:()=>{$(o).css(c,p)}});$(window).on("resize",()=>it());$("#PuzBox").on("scroll",()=>it());xwiTT.Grid("a.dtlink:not(.aspNetDisabled), a.dtlink2");xwiTT.Grid("a.dtlinkd",{hide:!0});xwiTT.Grid("a.hidelink",{hide:!0});xwiTT.Grid("a[href*='?date']",b);xwiTT.Title("img",b,{my:"center bottom",at:"center top-3"});xwiTT.BBCard("a[href*='author']",b);xwiTT.Title(hi,".bonus",{my:"bottom-5",at:"center top"});i&&(yi(JSON.parse(sessionStorage.getItem(a))),ot=!0);xwi.PC();xwi.winVer();setTimeout(it,350);xwi.tooltipsEnabled()&&$.getJSON("/JSON/TrackData.ashx",{date:s,Variety:n.isVariety},n=>{const i=u();if(i&&n){const t=JSON.parse(LZString.decompressFromEncodedURIComponent(n.Data)),e=t.Across,h=t.Down,f=t.AcrossMap,l=t.DownMap;if(f.length>1){$(r).on({mouseenter:()=>{$(o).css(c,ei)},mouseleave:()=>{$(o).css(c,p)}});let n;try{n=i.rows[0].cells.length}catch(u){console.warn(`Can't get number of columns for ${s}: ${u.message}`);return}$("td:has(div):not(.notip)",r).tooltip({items:"td",classes:{"ui-tooltip":"ttLite gold unmax"},position:{my:"left-4 bottom+4",at:"right top"},show:{duration:200,delay:100},hide:100,content:function(){const s=this.parentNode.rowIndex,c=this.cellIndex,o=s*n+c,i=e[f[o]],r=h[l[o]];let u="";return i&&(u+=`<div>${i}</div>`),r&&(t.Uniclue&&i.substring(0,4)===r.substring(0,4)||(u+=`<div>${r}</div>`)),u}}).on("click",function(){$(this).tooltip("close")})}}})}function it(n=true){const t=$(window).width()-12,i=t>600?$(r).outerWidth():t;$(dt).css(si,Math.max(i,mNW)+"px");f&&n&&(ui(),f())}function vi(n,t){$(n).on("click",function(){const n=this.id,i="shownotes",r=`#${i}`;$.when($(t,".midpanel").slideToggle({progress:tt})).done(()=>{let t;if(n===i)t=$(b);else if(n==="")t=$(r),v&&sessionStorage.removeItem(d);else if(t=$(`#${n.substring(1)}`),$.post("/JSON/MoreData.ashx",{date:s}),n!==undefined&&ci&&xwi.nLog(`clicked [More] for ${s}`,"Trace"),v)try{sessionStorage.setItem(d,oi)}catch(h){console.warn(`Can't create ${d} in sessionStorage: ${h.message}`)}const u=t.offset().top,f=t.height(),c=u+f,e=window.scrollY,o=window.innerHeight,l=e+o;if(u<e||c>l){const n={progress:tt},i=t.offset().top;n.scrollTop=u<e||f>o?i-12:i-(o-f-12);$("html, body").animate(n,250)}else tt()})})}function yi(n,t){const r=t==="success";if(n===null){$(o).css(c,p);$("#anmsg").html("No valid puzzle found");return}const i={"#Avg":n.AvgTable,"#DistByLen":n.DistByLenTable,"#LetterDist":n.LetterDistTable,"#ThumbTables":n.Thumbs,"#ThumbTables2":n.Thumbs2,"#CommonWords":n.CommonWords,"#UnusualWords":n.UnusualWords,"#IdenticalGrids":n.IdenticalGrids,"#IdenticalText":n.IdenticalText,"#TopoGrids":n.TopoGrids,"#TopoText":n.TopoText,"#ColorGrid":n.ColorGrid,"#Fresh":n.FreshTable};for(const n in i)$(n).html(i[n]);if($("#anmsg").hide(),r&&v){try{sessionStorage.setItem(a,JSON.stringify(n))}catch(u){console.warn(`Can't store ${a} in sessionStorage: ${u.message}`)}$(k).fadeIn(1500)}else $(k).show();$(o).css(c,p);ot=!0;$("#anbut").attr("value","Close analysis").removeAttr("disabled");const f=$("table.ColorTable").outerWidth();$("table#ColorLegend").css(si,f+"px");xwiTT.Grid("a.dtlink, a.dtlink2",k);xwiTT.Title(hi,k)}function gi(){const n="disabled",t=$("#anbut");t.attr(n,n);$(o).css(c,"wait");ot?$(k).fadeOut(500,()=>{if(v)try{sessionStorage.removeItem(a)}catch(i){console.warn("Can't remove "+a+" from sessionStorage: "+i.message)}ot=!1;t.attr("value","Analyze this puzzle").removeAttr(n);$(o).css(c,p)}):($("#anmsg").slideDown(50),$.getJSON("/JSON/AnalyzeData.ashx",{date:s},yi),xwi.nLog("clicked [Analyze] for "+s,"Trace"))}function nr(n,t=y){n=n||"#b7e2fc";const f=u(t),o=f.rows.length,s=f.rows[0].cells.length;let r=0,i=0,e=1;while(!f.rows[r].cells[i].childNodes[0])++i;while(r<o&&i<s){const t=f.rows[r].cells[i];t.style.backgroundColor=n;e===1?i<s-1&&f.rows[r].cells[i+1].childNodes[0]?++i:(e=2,++r):r<o-1&&f.rows[r+1].cells[i].childNodes[0]?++r:(e=1,++i)}}function tr(n,t=true,i=undefined,r=pt,f=pt,e=y){n=nt(n);i===undefined&&(i="#eee8aa");const o=u(e),s=o.rows.length,h=o.rows[0].cells.length;n.forEach(n=>{var l;let u,e,c;Array.from(o.rows).some((t,i)=>Array.from(t.cells).some((t,r)=>(u=t,u.childNodes[0]&&parseInt(u.childNodes[0].innerText)===n)?(e=i,c=r,!0):!1));let a=Array.from(o.rows).map(n=>Array.from(n.cells));while(u&&u.firstChild){if(i!==null&&(u.style.backgroundColor=i),u.childNodes[0]&&(u.childNodes[0].style.color=f),u.childNodes[1]&&(u.childNodes[1].style.color=r),t){if(c+=1,c>=h)break}else if(e+=1,e>=s)break;u=(l=a[e])===null||l===void 0?void 0:l[c]}})}function pi(n,t,i=999,r=true,f=undefined,e=pt,o=y){n=nt(n);t=nt(t);f===undefined&&(f="#eee8aa");const s=u(o),c=s.rows.length,l=s.rows[0].cells.length;let a=typeof i===ki,h=Array.from(s.rows).map(n=>Array.from(n.cells));for(let u=0;u<n.length;u++){let y=0,s=n[u],v=t[u],o=h[s][v];const p=a?i:i[u];while(o.firstChild&&y++<p){if(f!==null&&(o.style.backgroundColor=f),o.childNodes[1]?o.childNodes[1].style.color=e:o.style.color=e,r){if(v+=1,v>=l)break}else if(s+=1,s>=c)break;o=h[s][v]}}}function wi(n,t,i,r,u){n=vt(n,i,r);n.html(t);u&&ri(n,u)}function i(n,t,i){const u=$(`div:contains(${n})`,r);u.length>0&&(u.removeClass(wt).removeClass(bt).addClass(w),u.html(t),i&&ri(u,i))}function ri(n,t){n.css("position","relative").css("top",t)}function vt(n,t=ft,i,u){return n=n||$(kt,r),n.removeClass(wt).removeClass(bt).addClass(w).css(e,t),i&&n.parent().css(l,i),u&&n.siblings().first().css(e,u),n}function yt(n,t,i,r,f,e){let s="";f&&(s+=`color:${f};`);e&&(s+=` font-size:${e}px;`);s.length>0&&(s=` style='${s}'`);st[n]||(st[n]=$(`<div class='floater'${s}>${i}</div>`),$(o).append(st[n]));const v=u(),y=v.rows.length,p=v.rows[0].cells.length;let h,c,l,a;t===0?(h="bottom",c="top-2",l=0,a=r):t===3?(h="right center",c="left-4 center+3",l=r,a=0):t===2?(h="top",c="bottom+1",l=y-1,a=r):(h="left center",c="right+5 center+3",l=r,a=p-1);st[n].position({my:h,at:c,"of":v.rows[l].cells[a],collision:"none"})}function rt(t=.5){const i=!!document.createElement("canvas").getContext;if(!i)return null;if(n)ui();else{const r=u(),i=document.createElement("canvas");i.id=gt;i.style.position="absolute";i.style.backgroundColor="transparent";i.style.opacity=t.toString();bi(i);n=i.getContext("2d");r.before(i)}return n}function ut(n,t,i=true){const c=u();let f=0,e=0;g.top!==undefined&&(f+=g.top,e+=g.left);const r=$(c.rows[n].cells[t]),o=r.position();let s=o.left,h=o.top;i&&(s+=r.outerWidth()/2,h+=r.outerHeight()/2);return{left:s-e,top:h-f}}function ir(n,t,i){const r=ut(t,i);n.moveTo(r.left,r.top)}function rr(n,t,i){const r=ut(t,i);n.lineTo(r.left,r.top)}function ur(){const n={rows:[],cols:[]},t=$("td.bigcircle",r),i="A".charCodeAt(0);return t.each(function(){let t=this;const u=t.childNodes[1].innerHTML,f=t.parentNode.rowIndex,e=t.cellIndex,r=u.charCodeAt(0)-i;n.rows[r]=f;n.cols[r]=e}),n}function ui(){const t=document.getElementById(gt);if(t)if(n.clearRect(0,0,t.width,t.height),lt===undefined){const n=$(r);t.width=n.width();t.height=n.height()}else bi(t)}function bi(n){const t=u();ct||(ni=0,ct=t.rows.length-1,ti=0,lt=t.rows[0].cells.length-1);const r=$(t.rows[ni].cells[ti]),f=$(t.rows[ct].cells[lt]),i=r.offset(),e=f.offset();n.width=e.left-i.left+f.width()+h*2;n.height=e.top-i.top+f.height()+h*2;n.style.top=i.top-h+"px";n.style.left=i.left-h+"px";g.left=r.position().left-h;g.top=r.position().top-h}function fi(i,r){r=t(r,{});const u=t(r.bClose,!0),o=t(r.bOnceOnly,!1),s=t(r.bSmooth,!1),h=t(r.fill,"rgb(255, 237, 240)"),f=t(r.tension,null),e=t(r.numOfSeg,null),c=t(r.delayTime,500),l=t(r.fadeTime,500);if(li&&$(ht).hide(),li=!1,n.strokeStyle=r.stroke||"maroon",n.lineWidth=r.lineWidth||12,n.lineCap="round",n.beginPath(),s){let t=[],r=0;i.forEach(i=>{if(i.row===null)n.curve(t,f,e,u),t=[],r=0;else{const u=ut(i.row,i.col);r===0&&n.moveTo(u.left,u.top);t[r++]=u.left;t[r++]=u.top}});n.curve(t,f,e,u)}else{let t=!0;i.forEach(i=>{i.row===null?t=!0:(t?ir(n,i.row,i.col):rr(n,i.row,i.col),t=!1)})}return(u&&n.closePath(),n.stroke(),u&&(n.fillStyle=h,n.fill()),o)?$(ht).delay(c).fadeIn(l).promise():($(ht).delay(500).fadeIn(1e3).delay(1500).fadeOut(1e3).delay(750),$(ht).promise().done(()=>{setTimeout(it,100)}),null)}const y="PuzTable",r=`table#${y}`,o="body",c="cursor",ei="pointer",p="default",oi="open",e="color",l="backgroundColor",si="max-width",ft="var(--xRed)",pt="#000",ki="number",et="string",wt="subst",bt="subst2",kt="div.subst, div.subst2",w="letter",dt=".notes",b=".notetext, .bonus",k="#analysis",hi="table.thumb";let ot=!1,v=!1,s,ci,a,d,f=null;const st=[],gt="GridCanvas",ht=`canvas#${gt}`;let ni=0,ti=0,ct=undefined,lt=undefined,h=3,li=!0,n=null;const g={left:0,top:0};const nt=n=>n instanceof Array?n:[n];return{Go:n=>{di(n)},AnalyzePuzzle:()=>gi(),BallDraw:n=>{n=t(n,{});const e=n.row||7,s=n.col||7,h=n.scale||1,c=n.color1||"yellow",l=n.color2||"red",i=n.ballID||"theBall",a=n.my||"center",v=n.at||"center",r=`#${i}`;f=()=>{$(r).remove();const t=$(u().rows[e].cells[s]),n=Math.floor(t.outerWidth()*h),f=`height:${n*2}px; width: ${n*2}px;`,y=`background: radial-gradient(circle at ${n/1.7}px ${n/1.7}px, ${c}, ${l});`,p=`<figure id='${i}' style='display:block;background:black;border-radius:50%;margin:0;position:absolute;${f}${y}'></figure>`;$(o).append(p);$(r).position({my:a,at:v,"of":t})}},CardSuits:function(n="white"){const t="red",i="darkblue",u=vt(null,null,n,"#aaa");$("div:contains(HEART)",r).html("&hearts;").css(e,t);$("div:contains(DIAMOND)",r).html("&diams;").css(e,t);$("div:contains(CLUB)",r).html("&clubs;").css(e,i);$("div:contains(SPADE)",r).html("&spades;").css(e,i);u.css("fontSize","25px");ri(u,-8)},ColorRebusNums:function(n="#c0c0c0"){$(kt,r).siblings().first().css(e,n)},FlipFlop:(n,t,i,r,f="#eee8aa",e="var(--xRed)")=>{function s(){const u=o?i:r,f=u.length;for(let i=0;i<f;i++){const f=h.rows[n[i]].cells[t[i]].childNodes[1],r=$(f);r.hasClass(w)||r.removeClass("subst subst2").addClass(w);r.html(u.charAt(i))}o=!o}const h=u();let o=!0;pi(n,t,1,!0,f,e);s();setInterval(s,1e3)},Floats:(n,t,i,r,u,f,e)=>{let o=0;if(n)for(let t=0,i=n.length;t<i;t++)yt(o,0,typeof u===et?u:u[o],n[t],f,e),o++;if(t)for(let n=0,i=t.length;n<i;n++)yt(o,1,typeof u===et?u:u[o],t[n],f,e),o++;if(i)for(let n=0,t=i.length;n<t;n++)yt(o,2,typeof u===et?u:u[o],i[n],f,e),o++;if(r)for(let n=0,t=r.length;n<t;n++)yt(o,3,typeof u===et?u:u[o],r[n],f,e),o++},GetUpdateFunc:()=>f,GoingTooFar:n=>{$("td.black",r).css(l,"#777").each(function(t){$(this).addClass("notip").html(`<div class='num'></div><div class='letter' style='color:khaki'>${n.charAt(t)}</div>`)})},GreekLetters:(n,t)=>{const i=vt(null,t,n);i.each(function(){const n=$(this);n.html(`&${n.html().toLowerCase()};`)})},HighlightFirstClueLetter:(n="#cc3600",t=".numclue")=>{$("div:nth-child(even)",t).each(function(){const i=$(this).html(),t=i.match(/[a-z]/i);t&&$(this).html(i.replace(t[0],`<span style='font-weight:bold;color:${n}'>${t[0]}</span>`))})},HighlightLetters:(n,t=ft,i)=>{const u=Array.from(n);u.forEach(n=>{const u=$(`div:contains(${n})`,r);u.css(e,t);i&&u.parent().css(l,i)})},HL:(n,t,i,r,u,f)=>{tr(n,t,i,r,u,f)},HLMin:(n,t,i,r,u,f,e)=>{pi(n,t,i,r,u,f,e)},Stripe:(n,t,i,r)=>{const f=u();for(let u=0;u<i;u++){const i=f.rows[n].cells[t+u].childNodes[0];$(i).css(l,r)}},ImageRebus:(n,i="",u,f,o="#c0c0c0")=>{f=f||$(kt,r).parent();const s=f.children("div.num");s.css(e,o);s.siblings().html("");f.css("background","url("+n+") no-repeat "+t(i,""));f.css("background-position","center");u&&f.css(l,u)},ReplaceAllRebus:(n,t,i,r)=>{wi(null,n,t,i,r)},ReplaceOneRebus:(n,t,i,u,f)=>{wi($(`div:contains(${n})`,r),t,i,u,f)},Slash:n=>{const t=$(n,r);t.each(function(){const i=this.parentNode;$(i).addClass("slash");const u=i.childNodes[0];$(u).css("color","lightgray");const f=this,n=$(f);n.removeClass().addClass("letter");const t=n.text(),r=t.length/2,e=t.substring(0,r),o=t.substring(r);n.html(`<span class='slashLeft'>${e}</span><span class='slashRight'>${o}</span>`)})},BackSlash:n=>{const t=$(n,r);t.each(function(){const i=this.parentNode;$(i).addClass("backslash");const u=i.childNodes[0];$(u).css("color","lightgray");const n=this;$(n).removeClass().addClass("letter");const t=$(n).text(),r=t.length/2,f=t.substring(0,r),e=t.substring(r);$(n).html(`<span class='backslashLeft'>${f}</span><span class='backslashRight'>${e}</span>`)})},StandardSubs:(n,t)=>{vt(null,n,t),i("ZERO","0"),i("ONE","1"),i("TWO","2"),i("THREE","3"),i("FOUR","4"),i("FIVE","5"),i("SIX","6"),i("SEVEN","7"),i("EIGHT","8"),i("NINE","9"),i("TEN","10"),i("STAR","&#x2605;",-4),i("AND","&amp;"),i("POUND","#"),i("NUMBER","#"),i("AT","@",-1),i("PERCENT","%"),i("DOLLAR","$"),i("CENT","&cent;"),i("PERIOD","&#9679;",-2),i("PLUS","+"),i("MINUS","&ndash;",-1),i("DASH","&ndash;",-1),i("HYPHEN","&ndash;",-1),i("OVER","&divide;",-1),i("COLON",":",-1)},StepQuote:(n,t)=>{nr(n,t)},UpdateGrid:n=>{f=n},WordInCells:(n,t,i,r="white",f="")=>{const e=u();n=nt(n);t=nt(t);i=i instanceof Array?i:Array(n.length).fill(i);n.forEach((n,u)=>{const s=i[u];let o;const h=s.length;o=h<3?w:h<4?wt:bt;f!==""&&(o+=` ${f}`);$(e.rows[n].cells[t[u]]).html(`<div class='num'></div><div class='${o}' style='color:${r}'>${s}</div>`)})},WordAcrossCells:(n,t,i,r="lightgray")=>{const f=u(),e=i.length;for(let u=0;u<e;u++){const e=$(f.rows[n].cells[t+u]);e.html(`<div class='num'></div><div class='letter' style='color:${r}'>${i.charAt(u)}</div>`)}},ArrayDraw:(n,i,r)=>{r=t(r,{});h=r.padding||3;at(n,i);const u=t(r.opacity,.5),e=ii(n,i);f=()=>{rt(u)&&fi(e,r)};f()},GetGridCanvasContext:()=>rt(),GorskiDraw:n=>{const i=ur();at(i.rows,i.cols);n=t(n,{});h=t(n.padding,3);const r=t(n.opacity,.5);f=()=>{rt(r)&&fi(ii(i.rows,i.cols),n)};f()},ShapesDraw:i=>{i=t(i,{});const r=i.cRows,o=i.cCols,e=i.tRows,a=i.tCols,w=t(i.cStroke,ft),b=t(i.tStroke,ft),k=t(i.fill,"transparent"),d=t(i.lineWidth,2),g=t(i.opacity,.9),v=t(i.center,!0);let s=t(i.radius,13);const y=t(i.scale,null),p=t(i.scale2,null),nt=t(i.rotation,0),c=t(i.start,0),l=t(i.end,2*Math.PI);h=t(i.padding,10);const tt=r.concat(e),it=o.concat(a);at(tt,it);f=()=>{if(rt(g)){n.lineWidth=d;n.fillStyle=k;n.strokeStyle=w;let h,t,i,f;if(r){let e=null;if(y){const n=$(u().rows[r[0]].cells[o[0]]).height();s=n*y;p&&(e=n*p)}for(t=0;t<r.length;t++){n.beginPath();h=ut(r[t],o[t],v);i=h.left;f=h.top+2;const u=c instanceof Array?c[t]:c,a=l instanceof Array?l[t]:l;e==null?n.arc(i,f,s,u,a):n.ellipse(i,f,s,e,nt,u,a);n.stroke();n.fill()}}if(n.strokeStyle=b,e)for(t=0;t<e.length;t++)n.beginPath(),h=ut(e[t],a[t],v),i=h.left,f=h.top,n.moveTo(i,f-13),n.lineTo(i-13,f+13),n.lineTo(i+13,f+13),n.lineTo(i,f-13),n.stroke(),n.fill()}}},ColorBlocks:(n,t,i,r,f)=>{const e=u();for(let u=n;u<n+r;u++)for(let n=t;n<t+i;n++){const t=$(e.rows[u].cells[n]);t.hasClass("black")&&t.css(l,f).css("border","none")}},OverlayFlip:()=>{let n=$(".overlay"),i=n.attr("src"),r=i.replace("start.png","solve.gif"),t=!0;n.on("click",function(){let u=t?r:i;n.attr("src",u);t=!t})},Decode:(n,t,i,r="firebrick",f="green",o="#fffff0")=>{function c(){s=!s;$(n,h).each(function(){const n=$(this.childNodes[1]),u=n.text(),o=s?t.indexOf(u):i.indexOf(u),h=s?i.charAt(o):t.charAt(o);n.hide(300).promise().then(()=>{n.text(h).css(e,s?f:r).show(300)})})}const h=u();let s=!1;$(n).children(".letter").css(e,r);$(n,h).css(l,o);setInterval(c,4e3)},Polygons:()=>{function e(){ui();fi(ii(i[t],r[t]),{stroke:u[t],fill:f[t],bOnceOnly:!0,fadeTime:0,delayTime:0});t=(t+1)%4}let t=0,i=[[4,10,10],[4,4,10,10],[10,4,4,10],[10,4,4,10]],r=[[13,13,2],[13,2,0,13],[13,13,2,2],[11,13,2,0]],u=["darkorange","green","darkblue","maroon"],f=["rgb(255, 219, 153)","rgb(211, 248, 211)","rgb(214, 236, 242)","rgb(255, 237, 240)"];at([4,10],[0,13]);n=rt();setInterval(e,1500)}}})(),xwiAv=(()=>{function n(n){const r=`#${n}`,t=$("#CopyMsg");let i=$(r).attr("value");navigator.clipboard.writeText(i).then(()=>{t.show().html(`<b>${i}</b> &nbsp; copied to clipboard.`)}).catch(n=>{t.show().html(`Copy failed! ${n} -- Try it the old-fashioned way.`)})}function t(n){xwiTT.Grid("a.dtlink, a.dtlink2");xwiTT.Grid("div.notes a[href*='?date']");xwiTT.Title("img",".notes");xwiTT.BBCard("a[href*='author']",".notes");xwiTT.Title("table",".bonus",{my:"bottom-5",at:"center top"});xwiTT.Title("img",".notes, .bonus",{my:"center bottom",at:"center top-3"});$("a.button").button();const i=Math.max($("#PuzTable").outerWidth(),mNW);$(".notes").css("max-width",i+"px");const r=$("table.ColorTable").outerWidth();$("#ColorLegend").outerWidth(r);$(".tbURL").on("click",function(){this.select});$("p","div.xnote").each(function(){let n="";const t=$(this);$(".pullquote",t).each(function(){n+=$(this).text()});n!==""&&t.prepend(`<span class='pulledquote'>${n}</span>`)});let t=xwiCW.GetUpdateFunc();if(t){t();$(window).on("resize",()=>{t()})}if(n)$("td:has(div)",".PuzTable").tooltip({items:"td",classes:{"ui-tooltip":"ttLite"},position:{my:"left-4 bottom+4",at:"right top"},show:{duration:200,delay:100},hide:100,content:function(){const n=this.parentNode.rowIndex,t=this.cellIndex;return`<div>row : <b>${n}</b>, col : <b>${t}</b></div>`}}).on("click",function(){$(this).tooltip("close")})}return{Go:n=>t(n),CopyIt:t=>n(t)}})(),xwiDl=(()=>{function o(){return Cookies.get(n)!==undefined?!0:(clearInterval(u),$(t).css(i,e),$(".ui-button").removeClass(r),!1)}const n="download",t="body",i="cursor",f="wait",e="default",r="downloading";let u;return{Go:()=>{$("a.list, a.compare, input[type=submit]").button();const e="download"in document.createElement("a");e||$("#canDownload, #cannotDownload").toggle();$(".aspNetDisabled").css("background","none").css("backgroundColor","#246").css("borderColor","black").css("color","lightgray");$(".list").not(".aspNetDisabled").on("click",function(){$(t).css(i,f);$(this).addClass(r);Cookies.set(n,"on",{expires:new Date((new Date).getTime()+5e3),sameSite:"strict",secure:!0});u=setInterval(o,500)})}}})();